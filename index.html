<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>FHNW Active Directory Folder Sync for OS X by davidhuser</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>FHNW Active Directory Folder Sync for OS X</h1>
        <p>syncs unidirectional multiple folders from FHNW active directory into a local folder</p>

        <p class="view"><a href="https://github.com/davidhuser/fhnw-ad-sync">View the Project on GitHub <small>davidhuser/fhnw-ad-sync</small></a></p>


        <ul>
          <li><a href="https://github.com/davidhuser/fhnw-ad-sync/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/davidhuser/fhnw-ad-sync/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/davidhuser/fhnw-ad-sync">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="fhnw-active-directory-folder-sync" class="anchor" href="#fhnw-active-directory-folder-sync"><span class="octicon octicon-link"></span></a>FHNW Active Directory Folder Sync</h1>

<blockquote>
<p>Dieses Skript verbindet sich bei Programmstart automatisch mit dem VPN der FHNW (Passwort ausgelesen aus dem Schlüsselbund von OS X), mountet das Active Directory und synchronisiert unidirektional die angegebenen (Klassen-)Ordner in den angegebenen lokalen Ordner.</p>
</blockquote>

<p>Es wird empfohlen, einen Ordner nur für Unterlagen zu haben, <strong>da Änderungen überschrieben</strong> werden. Am besten synchronisiert man direkt in die Dropbox/Google Drive/etc.</p>

<hr><h2>
<a name="1-konfiguration" class="anchor" href="#1-konfiguration"><span class="octicon octicon-link"></span></a>1. Konfiguration</h2>

<h3>
<a name="11-vorbedingungen" class="anchor" href="#11-vorbedingungen"><span class="octicon octicon-link"></span></a>1.1 Vorbedingungen</h3>

<h5>
<a name="schl%C3%BCsselbund" class="anchor" href="#schl%C3%BCsselbund"><span class="octicon octicon-link"></span></a>Schlüsselbund</h5>

<p>Im OS X Programm <em>«Schlüsselbundverwaltung»</em> muss unter dem Schlüsselbund <em>«Anmeldung»</em> ein Eintrag mit 
<em>«Name für Schlüsselbundeintrag»</em> <strong>FHNW</strong> (und Accountname [<em>vorname.nachname</em>] und Passwort) vorhanden sein.</p>

<h5>
<a name="rsync-3x" class="anchor" href="#rsync-3x"><span class="octicon octicon-link"></span></a>rsync 3.x</h5>

<p>Das Unix-Programm <code>rsync</code> <strong>muss</strong> in der Version 3.x installiert sein (OS X Standard: 2.x)<br><em>Hinweis:</em>
Welche Version installiert ist, sieht man, wenn man im Terminal <code>rsync --version</code> eingibt.  </p>

<p><strong>Installation rsync 3.x:</strong><br>
1. Am einfachsten geht dies über <a href="http://brew.sh/">Homebrew</a>, ein Package Manager für OS X:<br>
=&gt; Homebrew installieren <em>inkl. aktualisierte XCode Developer Tools</em><br>
2. Terminal: <code>brew doctor</code> ... sollte wenn möglich keine Errors generieren<br>
3. Terminal:<br><code>brew tap homebrew/dupes</code><br><code>brew install rsync</code><br>
4. Terminal: <code>/usr/local/bin/rsync --version</code> ... sollte nun Version 3.x zeigen.</p>

<h5>
<a name="skript-anpassen" class="anchor" href="#skript-anpassen"><span class="octicon octicon-link"></span></a>Skript anpassen</h5>

<p>Das Repositoryfile <a href="https://github.com/davidhuser/fhnw-ad-sync/blob/master/FHNW-AD-SYNC.scpt?raw=true">FHNW-AD-SYNC.scpt</a> mit dem Applescript-Editor (in OS X standardmässig vorhanden) öffnen.</p>

<h3>
<a name="12-skriptvariablen" class="anchor" href="#12-skriptvariablen"><span class="octicon octicon-link"></span></a>1.2 Skriptvariablen</h3>

<h5>
<a name="thetext" class="anchor" href="#thetext"><span class="octicon octicon-link"></span></a><code>theText</code>
</h5>

<p>Was in diesem Fenster steht bei <em>«VPN-Verbindung»</em> (sprachspezifisch)
<img src="http://i.imgur.com/SgGjxzA.png" alt="theText"></p>

<h5>
<a name="thevpn" class="anchor" href="#thevpn"><span class="octicon octicon-link"></span></a><code>theVPN</code>
</h5>

<p>Name der VPN-Verbindung bei <em>«Systemeinstellungen»</em> &gt; <em>«Netzwerk»</em> (hier: VPN FHNW)
<img src="http://i.imgur.com/ZBEliHC.png" alt="theVPN"></p>

<h5>
<a name="localfolder" class="anchor" href="#localfolder"><span class="octicon octicon-link"></span></a><code>localfolder</code>
</h5>

<p>Hier gewünschten lokalen Ordner (Dropbox?) eintragen (Pfad herausfinden: <code>CMD+I</code> auf Ordner im Finder)</p>

<h5>
<a name="sourcefolderlist" class="anchor" href="#sourcefolderlist"><span class="octicon octicon-link"></span></a><code>sourcefolderlist</code>
</h5>

<p>Hier <strong>einen oder mehrere Ordner</strong> mit Komma und alt+Enter (siehe Beispiel im Code) vom Active Directory eintragen (<code>CMD+I</code> auf gewünschten Ordner, Pfad anpassen, <strong>nicht einfach kopieren</strong>, es braucht <code>/Volumes/e_18_data11$...</code>)  </p>

<hr><h2>
<a name="2-app-exportieren" class="anchor" href="#2-app-exportieren"><span class="octicon octicon-link"></span></a>2. App exportieren</h2>

<p><strong>1.</strong> Im Applescript-Editor: Ablage &gt; Exportieren... &gt; Name geben, Dateiformat: Programm, Haken «nur ausführbar» setzen<br><strong>2.</strong> .app in «Programme» ziehen</p>

<hr><h3>
<a name="hinweis-os-x-109-maverick" class="anchor" href="#hinweis-os-x-109-maverick"><span class="octicon octicon-link"></span></a>Hinweis: OS X 10.9 Maverick</h3>

<p>Unter Maverick muss folgendes eingestellt werden, sonst gibt es ein Berechtigungsproblem:
die oben erstelle .app muss Häkchen erhalten unter Systemeinstellungen &gt; Sicherheit &gt; Privatsphäre &gt; Bedienungshilfen
<img src="http://i.imgur.com/cEUxUbG.png" alt="Berechtigung"></p>

<hr><h2>
<a name="basiscode-von" class="anchor" href="#basiscode-von"><span class="octicon octicon-link"></span></a>Basiscode von:</h2>

<h4>
<a name="fhnw-vpn-connector-jan-f%C3%A4ssler" class="anchor" href="#fhnw-vpn-connector-jan-f%C3%A4ssler"><span class="octicon octicon-link"></span></a>FHNW VPN Connector (Jan Fässler)</h4>

<ul>
<li><a href="http://janfaessler.ch/archives/822">http://janfaessler.ch/archives/822</a></li>
<li><a href="https://github.com/janfaessler/FHNW-VPN-Connector">https://github.com/janfaessler/FHNW-VPN-Connector</a></li>
</ul><h4>
<a name="automated-token-generation-and-vpn-logins-corey-gilmore" class="anchor" href="#automated-token-generation-and-vpn-logins-corey-gilmore"><span class="octicon octicon-link"></span></a>Automated token generation and VPN logins (Corey Gilmore)</h4>

<ul>
<li><a href="http://coreygilmore.com/projects/automated-securid-token-generation-and-vpn-login-applescript/">http://coreygilmore.com/projects/automated-securid-token-generation-and-vpn-login-applescript/</a></li>
</ul><h4>
<a name="andy-breuhan" class="anchor" href="#andy-breuhan"><span class="octicon octicon-link"></span></a>Andy Breuhan</h4>

<ul>
<li><a href="http://www.andybreuhan.de/2010/04/06/mac-os-x-10-6-vpn-passwort-speichern/">http://www.andybreuhan.de/2010/04/06/mac-os-x-10-6-vpn-passwort-speichern/</a></li>
</ul><hr><h2>
<a name="changelog" class="anchor" href="#changelog"><span class="octicon octicon-link"></span></a>Changelog</h2>

<p><strong>0.2</strong> – mehrere Ordner möglich zu syncen<br><strong>0.1</strong> – init</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/davidhuser">davidhuser</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-45987725-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>